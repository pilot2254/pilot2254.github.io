/**
 * Typography Styles
 * Global base styles for HTML elements to maintain consistency
 * and reduce the need for repetitive utility classes
 */

@layer base {
  /* Link Styles */
  a {
    @apply text-primary underline-offset-4 transition-colors duration-200 hover:text-primary/80 hover:underline focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:rounded-sm;
  }

  /* External links - add visual indicator */
  a[target="_blank"] {
    @apply relative;
  }

  /* Remove default link styles for navigation and buttons */
  a[role="button"],
  nav a,
  .nav-link,
  .button-link {
    @apply no-underline text-current hover:no-underline;
  }

  /* Heading Styles */
  h1 {
    @apply text-3xl font-bold tracking-tight leading-tight md:text-4xl lg:text-5xl;
  }

  h2 {
    @apply text-2xl font-bold tracking-tight leading-tight md:text-3xl lg:text-4xl;
  }

  h3 {
    @apply text-xl font-bold tracking-tight leading-tight md:text-2xl;
  }

  h4 {
    @apply text-lg font-semibold tracking-tight leading-tight md:text-xl;
  }

  h5 {
    @apply text-base font-semibold tracking-tight leading-tight md:text-lg;
  }

  h6 {
    @apply text-sm font-semibold tracking-tight leading-tight md:text-base;
  }

  /* Paragraph Styles */
  p {
    @apply leading-relaxed text-muted-foreground;
  }

  /* Add spacing between paragraphs */
  p + p {
    @apply mt-4;
  }

  /* List Styles */
  ul {
    @apply list-disc list-inside space-y-1 text-muted-foreground;
  }

  ol {
    @apply list-decimal list-inside space-y-1 text-muted-foreground;
  }

  /* Nested lists */
  li ul,
  li ol {
    @apply mt-2 ml-4 space-y-1;
  }

  /* List items */
  li {
    @apply leading-relaxed;
  }

  /* Blockquote Styles */
  blockquote {
    @apply border-l-4 border-primary/20 pl-4 italic text-muted-foreground bg-muted/30 py-2 my-4 rounded-r-md;
  }

  /* Code Styles */
  code {
    @apply bg-muted px-1.5 py-0.5 rounded-md text-sm font-mono text-foreground border;
  }

  /* Prevent code styling inside pre blocks */
  pre code {
    @apply bg-transparent px-0 py-0 border-0;
  }

  pre {
    @apply bg-muted p-4 rounded-lg overflow-x-auto text-sm font-mono border;
  }

  /* Table Styles */
  table {
    @apply w-full border-collapse border border-border rounded-lg overflow-hidden;
  }

  th {
    @apply bg-muted/50 px-4 py-2 text-left font-semibold text-foreground border-b border-border;
  }

  td {
    @apply px-4 py-2 border-b border-border text-muted-foreground;
  }

  /* Last row shouldn't have bottom border */
  tr:last-child td {
    @apply border-b-0;
  }

  /* Form Elements */
  label {
    @apply text-sm font-medium text-foreground;
  }

  /* Strong and emphasis */
  strong,
  b {
    @apply font-semibold text-foreground;
  }

  em,
  i {
    @apply italic;
  }

  /* Small text */
  small {
    @apply text-xs text-muted-foreground;
  }

  /* Horizontal rule */
  hr {
    @apply border-0 border-t border-border my-8;
  }

  /* Mark/highlight */
  mark {
    @apply bg-yellow-200 dark:bg-yellow-800 px-1 rounded;
  }

  /* Abbreviation */
  abbr[title] {
    @apply border-b border-dotted border-muted-foreground cursor-help;
  }

  /* Selection styles */
  ::selection {
    @apply bg-primary/20 text-primary;
  }

  ::-moz-selection {
    @apply bg-primary/20 text-primary;
  }
}

@layer components {
  /* Typography utility classes for special cases */
  .text-balance {
    text-wrap: balance;
  }

  .text-pretty {
    text-wrap: pretty;
  }

  /* Link variants */
  .link-subtle {
    @apply text-muted-foreground no-underline hover:text-foreground hover:underline;
  }

  .link-muted {
    @apply text-muted-foreground/70 no-underline hover:text-muted-foreground hover:underline;
  }

  .link-destructive {
    @apply text-destructive hover:text-destructive/80;
  }

  /* Text size utilities that maintain good line heights */
  .text-xs-comfortable {
    @apply text-xs leading-relaxed;
  }

  .text-sm-comfortable {
    @apply text-sm leading-relaxed;
  }

  .text-base-comfortable {
    @apply text-base leading-relaxed;
  }

  /* Prose-like content styling */
  .prose-content {
    @apply space-y-4;
  }

  .prose-content h1,
  .prose-content h2,
  .prose-content h3,
  .prose-content h4,
  .prose-content h5,
  .prose-content h6 {
    @apply mt-8 mb-4 first:mt-0;
  }

  .prose-content p {
    @apply mb-4 last:mb-0;
  }

  .prose-content ul,
  .prose-content ol {
    @apply mb-4;
  }

  /* Focus styles for better accessibility */
  .focus-ring {
    @apply focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background;
  }
}